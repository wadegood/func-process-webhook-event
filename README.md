Project Overview

This application is desiged to process events generated by the Strava webhook api. Events generated inside of Strava will be pushed to an Azure Function where they can be further processed.

Links

https://developers.strava.com/docs/webhooks/

Prerequisites
1. VSCode with Azure and Dev Container Extension installed 
2. Docker Desktop
3. GIT
4. Azure subscription

Setup Instructions
1. Clone the repository to your local machine. Open the repository in VSCode and select "reopen in container". This will create a docker container using the image definition found inside of the .devcontainer directory.

2. Create a local.settings.json file. The contents of this file should be as shown below. 

{
    "IsEncrypted": false,
    "Values": {
      "AzureWebJobsStorage": "",
      "FUNCTIONS_WORKER_RUNTIME": "python",
      "STRAVA_CLIENT_ID": {YOUR_STRAVA_CLIENT_ID},
      "STRAVA_CLIENT_SECRET": "{YOUR_STRAVA_CLIENT_SECRET}",
      "STRAVA_CALLBACK_URL": "{STRAVA_CALLBACK_URL}"
  
    }
  }

3. Close and reopen VSCode and a message will appear to create a virtual environment. Select yes to create the virtual python environment inside of your container.


4. Click on run and debug extension on the left hand side. Click the run button. This will start an instance of the function app on your localhost. Once the function app is up an running, copy and paste the URL into a web browser and press enter. You should receive a message stating "Validation Failed. Please try again." This confirms that the function is working as expected and all setup tasks were completed properly. Disconnect the function from the localhost.


5. Go into the Azure and provision a function app with the following settings.
  runtime: python 3.11
  compute: consumption
  *add more detail here


6. Using the Azure extension in VSCode, deploy the Azure function project to the Azure function app. Within the Azure portal take note of the function app URL.




